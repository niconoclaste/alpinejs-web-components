function i(s,u){class d extends HTMLElement{constructor(){super();this.getAttribute("shadow")!==null&&this.attachShadow({mode:"open"})}disconnectedCallback(){console.log(s+": disconnected")}connectedCallback(){console.log(s+": connected");let r=null,n=this;this.shadowRoot===null?r=!1:(r=!0,n=this.shadowRoot),fetch(u).then(c=>c.text()).then(c=>{let a=document.createElement("template");a.innerHTML=c,n.appendChild(a.content.cloneNode(!0)),r||n.querySelectorAll("style").forEach(o=>{let l=o.innerText;if(l.includes(":host")){l=l.replaceAll(":host",s),o.remove();let t=document.createElement("style");t.textContent=l,n.appendChild(t)}}),n.querySelectorAll("script[export]").forEach(e=>{let o=document.createElement("script");e.getAttributeNames().filter(t=>t!=="export").forEach(t=>{o.setAttribute(t,e.getAttribute(t))}),o.textContent=e.innerHTML,n.appendChild(o),o.onload=function(){let t=new CustomEvent(e.getAttribute("export"),{bubbles:!0,composed:!0});window.dispatchEvent(t)},e.remove()}),n.querySelectorAll("link[export]").forEach(e=>{let o=document.createElement("link");e.getAttributeNames().filter(t=>t!=="export").forEach(t=>{o.setAttribute(t,e.getAttribute(t))}),document.head.appendChild(o)}),n.querySelectorAll("[slot]").forEach(e=>{console.log(e.tagName);let o=e.getAttribute("slot"),l=n.querySelector('slot[name="'+o+'"]');e.tagName==="TEMPLATE"?l.after(e.content.cloneNode(!0)):l.after(e.cloneNode(!0)),e.remove(),l.remove()}),r&&Alpine.initTree(n)})}}customElements.define(s,d)}var E=i;export{i as AlpineWebComponent,E as default};
