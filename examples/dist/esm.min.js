function i(l,u){class d extends HTMLElement{constructor(){super();this.getAttribute("shadow")!==null&&this.attachShadow({mode:"open"})}disconnectedCallback(){console.log(l+": disconnected")}connectedCallback(){console.log(l+": connected");let r=null,n=this;this.shadowRoot===null?r=!1:(r=!0,n=this.shadowRoot),fetch(u).then(c=>c.text()).then(c=>{let a=document.createElement("template");a.innerHTML=c,n.appendChild(a.content.cloneNode(!0)),r||n.querySelectorAll("style").forEach(o=>{let s=o.innerText;if(s.includes(":host")){s=s.replaceAll(":host",l),o.remove();let e=document.createElement("style");e.textContent=s,n.appendChild(e)}}),n.querySelectorAll("script[export]").forEach(t=>{let o=document.createElement("script");t.getAttributeNames().filter(e=>e!=="export").forEach(e=>{o.setAttribute(e,t.getAttribute(e))}),o.textContent=t.innerHTML,n.appendChild(o),o.onload=function(){let e=new CustomEvent(t.getAttribute("export"),{bubbles:!0,composed:!0});window.dispatchEvent(e)},t.remove()}),n.querySelectorAll("link[export]").forEach(t=>{let o=document.createElement("link");t.getAttributeNames().filter(e=>e!=="export").forEach(e=>{o.setAttribute(e,t.getAttribute(e))}),document.head.appendChild(o)}),n.querySelectorAll("meta").forEach(t=>{let o=document.createElement("meta");t.getAttributeNames().forEach(e=>{o.setAttribute(e,t.getAttribute(e))}),document.head.appendChild(o)}),n.querySelectorAll("[slot]").forEach(t=>{console.log(t.tagName);let o=t.getAttribute("slot"),s=n.querySelector('slot[name="'+o+'"]');t.tagName==="TEMPLATE"?s.after(t.content.cloneNode(!0)):s.after(t.cloneNode(!0)),t.remove(),s.remove()}),r&&Alpine.initTree(n)})}}customElements.define(l,d)}var x=i;export{i as AlpineWebComponent,x as default};
